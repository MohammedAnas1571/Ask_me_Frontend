var ke=Object.create;var V=Object.defineProperty,Be=Object.defineProperties,We=Object.getOwnPropertyDescriptor,Oe=Object.getOwnPropertyDescriptors,xe=Object.getOwnPropertyNames,Z=Object.getOwnPropertySymbols,Le=Object.getPrototypeOf,te=Object.prototype.hasOwnProperty,ve=Object.prototype.propertyIsEnumerable;var ge=(t,n,e)=>n in t?V(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e,be=(t,n)=>{for(var e in n||(n={}))te.call(n,e)&&ge(t,e,n[e]);if(Z)for(var e of Z(n))ve.call(n,e)&&ge(t,e,n[e]);return t},Ee=(t,n)=>Be(t,Oe(n));var Se=(t,n)=>{var e={};for(var i in t)te.call(t,i)&&n.indexOf(i)<0&&(e[i]=t[i]);if(t!=null&&Z)for(var i of Z(t))n.indexOf(i)<0&&ve.call(t,i)&&(e[i]=t[i]);return e};var Ge=(t,n)=>{for(var e in n)V(t,e,{get:n[e],enumerable:!0})},he=(t,n,e,i)=>{if(n&&typeof n=="object"||typeof n=="function")for(let f of xe(n))!te.call(t,f)&&f!==e&&V(t,f,{get:()=>n[f],enumerable:!(i=We(n,f))||i.enumerable});return t};var ne=(t,n,e)=>(e=t!=null?ke(Le(t)):{},he(n||!t||!t.__esModule?V(e,"default",{value:t,enumerable:!0}):e,t)),Fe=t=>he(V({},"__esModule",{value:!0}),t);var Ye={};Ge(Ye,{OTPInput:()=>_e,REGEXP_ONLY_CHARS:()=>Ne,REGEXP_ONLY_DIGITS:()=>oe,REGEXP_ONLY_DIGITS_AND_CHARS:()=>je});module.exports=Fe(Ye);var r=ne(require("react"));var oe="^\\d+$",Ne="^[a-zA-Z]+$",je="^[a-zA-Z0-9]+$";function Pe(t){let n=setTimeout(t,0),e=setTimeout(t,10),i=setTimeout(t,50);return[n,e,i]}var g=ne(require("react")),$e=18,ze="40px",Ve=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function we({inputRef:t,pwmAreaRef:n,pushPasswordManagerStrategy:e,isFocused:i}){let f=g.useRef({done:!1,refocused:!1}),[A,k]=g.useState(!1),[x,Y]=g.useState(!1),[M,L]=g.useState(!1),a=g.useMemo(()=>e==="none"?!1:e==="increase-width"&&A&&x||e==="experimental-no-flickering"&&(!M||M&&x&&A),[M,A,x,e]),B=g.useCallback(()=>{let d=t.current,b=n.current;if(!d||!b||M||e==="none")return;let E=e==="increase-width"?d:b,G=E.getBoundingClientRect().left+E.offsetWidth,c=E.getBoundingClientRect().top+E.offsetHeight/2,W=G-$e,I=c,m=document.elementFromPoint(W,I);if((document.querySelectorAll(Ve).length>0||m!==d)&&(k(!0),L(!0),!f.current.refocused&&document.activeElement===d)){let F=[d.selectionStart,d.selectionEnd];d.blur(),d.focus(),d.setSelectionRange(F[0],F[1]),f.current.refocused=!0}},[M,t,e,n]);return g.useEffect(()=>{let d=new IntersectionObserver(b=>{let E=b[0];Y(E.intersectionRatio>.99)},{threshold:1,root:null,rootMargin:"0px"});return n.current&&d.observe(n.current),()=>{d.disconnect()}},[n]),g.useEffect(()=>{let d=i||document.activeElement===t.current;if(e==="none"||!d)return;let b=setTimeout(B,0),E=setTimeout(B,2e3),G=setTimeout(B,5e3),c=setTimeout(()=>{L(!0)},6e3);return()=>{clearTimeout(b),clearTimeout(E),clearTimeout(G),clearTimeout(c)}},[t,i,e,B]),{willPushPWMBadge:a,PWM_BADGE_SPACE_WIDTH:ze}}var q=ne(require("react"));function Te(t){let n=q.useRef();return q.useEffect(()=>{n.current=t}),n.current}var _e=r.forwardRef((d,B)=>{var b=d,{value:t,onChange:n,maxLength:e,textAlign:i="left",pattern:f=oe,inputMode:A="numeric",onComplete:k,pushPasswordManagerStrategy:x="increase-width",render:Y,containerClassName:M,noScriptCSSFallback:L=Xe}=b,a=Se(b,["value","onChange","maxLength","textAlign","pattern","inputMode","onComplete","pushPasswordManagerStrategy","render","containerClassName","noScriptCSSFallback"]);var ue,de,fe,me;let[E,G]=r.useState(typeof a.defaultValue=="string"?a.defaultValue:""),c=t!=null?t:E,W=Te(c),I=r.useCallback(o=>{n==null||n(o),G(o)},[n]),m=r.useMemo(()=>f?typeof f=="string"?new RegExp(f):f:null,[f]),l=r.useRef(null),K=r.useRef(null),F=r.useRef(null),J=r.useRef({value:c,onChange:I,isIOS:typeof window!="undefined"&&((ue=window==null?void 0:window.CSS)==null?void 0:ue.supports("-webkit-touch-callout","none"))}),U=r.useRef({prev:[(de=l.current)==null?void 0:de.selectionStart,(fe=l.current)==null?void 0:fe.selectionEnd,(me=l.current)==null?void 0:me.selectionDirection]});r.useImperativeHandle(B,()=>l.current,[]),r.useEffect(()=>{let o=l.current,s=K.current;if(!o||!s)return;J.current.value!==o.value&&J.current.onChange(o.value),U.current.prev=[o.selectionStart,o.selectionEnd,o.selectionDirection];function p(){if(document.activeElement!==o){j(null),$(null);return}let u=o.selectionStart,S=o.selectionEnd,w=o.selectionDirection,y=o.maxLength,H=o.value,h=U.current.prev,v=-1,T=-1,_;if(H.length!==0&&u!==null&&S!==null){let He=u===S,De=u===H.length&&H.length<y;if(He&&!De){let D=u;if(D===0)v=0,T=1,_="forward";else if(D===y)v=D-1,T=D,_="backward";else if(y>2&&H.length>2){let ee=0;if(h[0]!==null&&h[1]!==null){_=D<h[1]?"backward":"forward";let Ae=h[0]===h[1]&&h[0]<y;_==="backward"&&!Ae&&(ee=-1)}v=ee+D,T=ee+D+1}}v!==-1&&T!==-1&&v!==T&&l.current.setSelectionRange(v,T,_)}let pe=v!==-1?v:u,Re=T!==-1?T:S,ye=_!=null?_:w;j(pe),$(Re),U.current.prev=[pe,Re,ye]}if(document.addEventListener("selectionchange",p,{capture:!0}),p(),document.activeElement===o&&Q(!0),!document.getElementById("input-otp-style")){let u=document.createElement("style");if(u.id="input-otp-style",document.head.appendChild(u),u.sheet){let S="background: transparent !important; text: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";X(u.sheet,"[data-input-otp]::selection { background: transparent !important; }"),X(u.sheet,`[data-input-otp]:autofill { ${S} }`),X(u.sheet,`[data-input-otp]:-webkit-autofill { ${S} }`),X(u.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),X(u.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let R=()=>{s&&s.style.setProperty("--root-height",`${o.clientHeight}px`)};R();let P=new ResizeObserver(R);return P.observe(o),()=>{document.removeEventListener("selectionchange",p,{capture:!0}),P.disconnect()}},[]);let[re,se]=r.useState(!1),[N,Q]=r.useState(!1),[C,j]=r.useState(null),[O,$]=r.useState(null);r.useEffect(()=>{Pe(()=>{var R,P,u,S;(R=l.current)==null||R.dispatchEvent(new Event("input"));let o=(P=l.current)==null?void 0:P.selectionStart,s=(u=l.current)==null?void 0:u.selectionEnd,p=(S=l.current)==null?void 0:S.selectionDirection;o!==null&&s!==null&&(j(o),$(s),U.current.prev=[o,s,p])})},[c,N]),r.useEffect(()=>{W!==void 0&&c!==W&&W.length<e&&c.length===e&&(k==null||k(c))},[e,k,W,c]);let z=we({inputRef:l,pwmAreaRef:F,pushPasswordManagerStrategy:x,isFocused:N}),ae=r.useCallback(o=>{let s=o.currentTarget.value.slice(0,e);if(s.length>0&&m&&!m.test(s)){o.preventDefault();return}I(s)},[e,I,m]),ce=r.useCallback(()=>{var o;if(l.current){let s=Math.min(l.current.value.length,e-1),p=l.current.value.length;(o=l.current)==null||o.setSelectionRange(s,p),j(s),$(p)}Q(!0)},[e]),ie=r.useCallback(o=>{var h,v;let s=l.current;if(!J.current.isIOS||!o.clipboardData||!s)return;let p=o.clipboardData.getData("text/plain");o.preventDefault();let R=(h=l.current)==null?void 0:h.selectionStart,P=(v=l.current)==null?void 0:v.selectionEnd,w=(R!==P?c.slice(0,R)+p+c.slice(P):c.slice(0,R)+p+c.slice(R)).slice(0,e);if(w.length>0&&m&&!m.test(w))return;s.value=w,I(w);let y=Math.min(w.length,e-1),H=w.length;s.setSelectionRange(y,H),j(y),$(H)},[e,I,m,c]),Me=r.useMemo(()=>({position:"relative",cursor:a.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[a.disabled]),le=r.useMemo(()=>({position:"absolute",inset:0,width:z.willPushPWMBadge?`calc(100% + ${z.PWM_BADGE_SPACE_WIDTH})`:"100%",height:"100%",display:"flex",textAlign:i,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[z.PWM_BADGE_SPACE_WIDTH,z.willPushPWMBadge,i]),Ie=r.useMemo(()=>r.createElement("input",Ee(be({autoComplete:a.autoComplete||"one-time-code"},a),{"data-input-otp":!0,"data-input-otp-mss":C,"data-input-otp-mse":O,inputMode:A,pattern:m==null?void 0:m.source,style:le,maxLength:e,value:c,ref:l,onPaste:o=>{var s;ie(o),(s=a.onPaste)==null||s.call(a,o)},onChange:ae,onMouseOver:o=>{var s;se(!0),(s=a.onMouseOver)==null||s.call(a,o)},onMouseLeave:o=>{var s;se(!1),(s=a.onMouseLeave)==null||s.call(a,o)},onFocus:o=>{var s;ce(),(s=a.onFocus)==null||s.call(a,o)},onBlur:o=>{var s;Q(!1),(s=a.onBlur)==null||s.call(a,o)}})),[ae,ce,ie,A,le,e,O,C,a,m==null?void 0:m.source,c]),Ce=r.useMemo(()=>Y({slots:Array.from({length:e}).map((o,s)=>{let p=N&&C!==null&&O!==null&&(C===O&&s===C||s>=C&&s<O),R=c[s]!==void 0?c[s]:null;return{char:R,isActive:p,hasFakeCaret:p&&R===null}}),isFocused:N,isHovering:!a.disabled&&re}),[N,re,e,O,C,a.disabled,Y,c]);return r.createElement(r.Fragment,null,L!==null&&r.createElement("noscript",null,r.createElement("style",null,L)),r.createElement("div",{ref:K,"data-input-otp-container":!0,style:Me,className:M},r.createElement("div",{ref:F,style:{position:"absolute",top:0,right:`calc(-1 * ${z.PWM_BADGE_SPACE_WIDTH})`,bottom:0,left:"100%",pointerEvents:"none",userSelect:"none",background:"transparent"}}),Ce,r.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},Ie)))});_e.displayName="Input";function X(t,n){try{t.insertRule(n)}catch(e){console.error("input-otp could not insert CSS rule:",n)}}var Xe=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;0&&(module.exports={OTPInput,REGEXP_ONLY_CHARS,REGEXP_ONLY_DIGITS,REGEXP_ONLY_DIGITS_AND_CHARS});
//# sourceMappingURL=index.js.map